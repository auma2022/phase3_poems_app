{"ast":null,"code":"var _jsxFileName = \"/home/moringa/Documents/phase3/phase3_poems_app/src/Signin.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useState, useEffect } from \"react\"; //import { useNavigate } from \"react-router-dom\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Signin = () => {\n  _s();\n\n  //const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    username: \"\",\n    password: \"\",\n    remember_me: true\n  });\n  const [loading, setIsLoading] = useState(true);\n  const userRef = React.useRef();\n  useEffect(() => {\n    if (null !== userRef.current) {\n      userRef.current.focus();\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, []); //hangle change event\n\n  const handleChange = event => {\n    const key = event.target.id;\n    const value = event.target.type === \"checkbox\" ? event.target.checked : event.target.value;\n    setFormData({ ...formData,\n      [key]: value\n    });\n  }; //submission form function\n\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    axios.post(\"http://localhost:9292/user/login\", formData).then(response => {\n      if (Object.values(response.data).length > 1) {\n        localStorage.setItem(\"name\", JSON.stringify(response.data));\n        localStorage.setItem(\"authenticated\", JSON.stringify(true));\n        alert(\"Login successful\"); //navigate(\"/home/dashboard\");\n      } else {\n        alert(\"user doesn't exist\");\n        setFormData({\n          username: \"\",\n          password: \"\"\n        });\n      }\n    }).then(() => setIsLoading(false));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Sign in to start your session\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Username\", /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"inputs\",\n          type: \"text\",\n          placeholder: \"Usename\",\n          id: \"username\",\n          autoComplete: \"off\",\n          required: true,\n          onChange: handleChange,\n          ref: userRef,\n          value: formData === null || formData === void 0 ? void 0 : formData.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Password\", /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"inputs\",\n          type: \"password\",\n          placeholder: \"**\",\n          id: \"password\",\n          required: true,\n          value: formData === null || formData === void 0 ? void 0 : formData.password,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            id: \"remember_me\",\n            checked: formData === null || formData === void 0 ? void 0 : formData.remember_me,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Remeber Me\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-pry\",\n          type: \"submit\",\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"misc\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          onClick: () => navigate(\"recover\"),\n          children: \"I forgot my password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(Signin, \"pry6wqpZrFS+9gsfzrKco1isBYA=\");\n\n_c = Signin;\nexport default Signin;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signin\");","map":{"version":3,"sources":["/home/moringa/Documents/phase3/phase3_poems_app/src/Signin.js"],"names":["axios","React","useState","useEffect","Signin","formData","setFormData","username","password","remember_me","loading","setIsLoading","userRef","useRef","current","focus","handleChange","event","key","target","id","value","type","checked","handleSubmit","e","preventDefault","post","then","response","Object","values","data","length","localStorage","setItem","JSON","stringify","alert","navigate"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C,C,CACA;;;;;AAGA,MAAMC,MAAM,GAAG,MAAM;AAAA;;AACnB;AACA,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BJ,QAAQ,CAAC;AACvCK,IAAAA,QAAQ,EAAE,EAD6B;AAEvCC,IAAAA,QAAQ,EAAE,EAF6B;AAGvCC,IAAAA,WAAW,EAAE;AAH0B,GAAD,CAAxC;AAKA,QAAM,CAACC,OAAD,EAAUC,YAAV,IAA0BT,QAAQ,CAAC,IAAD,CAAxC;AACA,QAAMU,OAAO,GAAGX,KAAK,CAACY,MAAN,EAAhB;AAEAV,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,SAASS,OAAO,CAACE,OAArB,EAA8B;AAC5BF,MAAAA,OAAO,CAACE,OAAR,CAAgBC,KAAhB;AACD,KAHa,CAId;;AACD,GALQ,EAKN,EALM,CAAT,CAVmB,CAiBnB;;AACA,QAAMC,YAAY,GAAIC,KAAD,IAAW;AAC9B,UAAMC,GAAG,GAAGD,KAAK,CAACE,MAAN,CAAaC,EAAzB;AACA,UAAMC,KAAK,GACTJ,KAAK,CAACE,MAAN,CAAaG,IAAb,KAAsB,UAAtB,GACIL,KAAK,CAACE,MAAN,CAAaI,OADjB,GAEIN,KAAK,CAACE,MAAN,CAAaE,KAHnB;AAKAf,IAAAA,WAAW,CAAC,EAAE,GAAGD,QAAL;AAAe,OAACa,GAAD,GAAOG;AAAtB,KAAD,CAAX;AACD,GARD,CAlBmB,CA4BnB;;;AACA,QAAMG,YAAY,GAAIC,CAAD,IAAO;AAC1BA,IAAAA,CAAC,CAACC,cAAF;AAEA1B,IAAAA,KAAK,CAAC2B,IAAN,CAAW,kCAAX,EAA+CtB,QAA/C,EACGuB,IADH,CACSC,QAAD,IAAc;AAClB,UAAIC,MAAM,CAACC,MAAP,CAAcF,QAAQ,CAACG,IAAvB,EAA6BC,MAA7B,GAAsC,CAA1C,EAA6C;AAC3CC,QAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeR,QAAQ,CAACG,IAAxB,CAA7B;AACAE,QAAAA,YAAY,CAACC,OAAb,CAAqB,eAArB,EAAsCC,IAAI,CAACC,SAAL,CAAe,IAAf,CAAtC;AACAC,QAAAA,KAAK,CAAC,kBAAD,CAAL,CAH2C,CAI3C;AACD,OALD,MAKO;AACLA,QAAAA,KAAK,CAAC,oBAAD,CAAL;AACAhC,QAAAA,WAAW,CAAC;AACVC,UAAAA,QAAQ,EAAE,EADA;AAEVC,UAAAA,QAAQ,EAAE;AAFA,SAAD,CAAX;AAID;AACF,KAdH,EAeGoB,IAfH,CAeQ,MAAMjB,YAAY,CAAC,KAAD,CAf1B;AAgBD,GAnBD;;AAqBA,sBACE;AAAA,2BACE;AAAM,MAAA,QAAQ,EAAEa,YAAhB;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAA,4CAEE;AACE,UAAA,SAAS,EAAC,QADZ;AAEE,UAAA,IAAI,EAAC,MAFP;AAGE,UAAA,WAAW,EAAC,SAHd;AAIE,UAAA,EAAE,EAAC,UAJL;AAKE,UAAA,YAAY,EAAC,KALf;AAME,UAAA,QAAQ,MANV;AAOE,UAAA,QAAQ,EAAER,YAPZ;AAQE,UAAA,GAAG,EAAEJ,OARP;AASE,UAAA,KAAK,EAAEP,QAAF,aAAEA,QAAF,uBAAEA,QAAQ,CAAEE;AATnB;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,eAgBE;AAAA,4CAEE;AACE,UAAA,SAAS,EAAC,QADZ;AAEE,UAAA,IAAI,EAAC,UAFP;AAGE,UAAA,WAAW,EAAC,IAHd;AAIE,UAAA,EAAE,EAAC,UAJL;AAKE,UAAA,QAAQ,MALV;AAME,UAAA,KAAK,EAAEF,QAAF,aAAEA,QAAF,uBAAEA,QAAQ,CAAEG,QANnB;AAOE,UAAA,QAAQ,EAAEQ;AAPZ;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cAhBF,eA4BE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA,gCACE;AAAA,kCACE;AACE,YAAA,IAAI,EAAC,UADP;AAEE,YAAA,EAAE,EAAC,aAFL;AAGE,YAAA,OAAO,EAAEX,QAAF,aAAEA,QAAF,uBAAEA,QAAQ,CAAEI,WAHrB;AAIE,YAAA,QAAQ,EAAEO;AAJZ;AAAA;AAAA;AAAA;AAAA,kBADF,eAOE;AAAA,mCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAYE;AAAQ,UAAA,SAAS,EAAC,SAAlB;AAA4B,UAAA,IAAI,EAAC,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAZF;AAAA;AAAA;AAAA;AAAA;AAAA,cA5BF,eA4CE;AAAM,QAAA,SAAS,EAAC,MAAhB;AAAA,+BAEE;AAAG,UAAA,OAAO,EAAE,MAAMuB,QAAQ,CAAC,SAAD,CAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA,cA5CF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,mBADF;AAqDD,CAvGD;;GAAMnC,M;;KAAAA,M;AAyGN,eAAeA,MAAf","sourcesContent":["import axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\n//import { useNavigate } from \"react-router-dom\";\n\n\nconst Signin = () => {\n  //const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    username: \"\",\n    password: \"\",\n    remember_me: true,\n  });\n  const [loading, setIsLoading] = useState(true);\n  const userRef = React.useRef();\n\n  useEffect(() => {\n    if (null !== userRef.current) {\n      userRef.current.focus();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  //hangle change event\n  const handleChange = (event) => {\n    const key = event.target.id;\n    const value =\n      event.target.type === \"checkbox\"\n        ? event.target.checked\n        : event.target.value;\n\n    setFormData({ ...formData, [key]: value });\n  };\n\n  //submission form function\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    axios.post(\"http://localhost:9292/user/login\", formData)\n      .then((response) => {\n        if (Object.values(response.data).length > 1) {\n          localStorage.setItem(\"name\", JSON.stringify(response.data));\n          localStorage.setItem(\"authenticated\", JSON.stringify(true));\n          alert(\"Login successful\");\n          //navigate(\"/home/dashboard\");\n        } else {\n          alert(\"user doesn't exist\");\n          setFormData({\n            username: \"\",\n            password: \"\",\n          });\n        }\n      })\n      .then(() => setIsLoading(false));\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <h4>Sign in to start your session</h4>\n        <label>\n          Username\n          <input\n            className=\"inputs\"\n            type=\"text\"\n            placeholder=\"Usename\"\n            id=\"username\"\n            autoComplete=\"off\"\n            required\n            onChange={handleChange}\n            ref={userRef}\n            value={formData?.username}\n          />\n        </label>\n        <label>\n          Password\n          <input\n            className=\"inputs\"\n            type=\"password\"\n            placeholder=\"**\"\n            id=\"password\"\n            required\n            value={formData?.password}\n            onChange={handleChange}\n          />\n        </label>\n        <div className=\"nav\">\n          <span>\n            <input\n              type=\"checkbox\"\n              id=\"remember_me\"\n              checked={formData?.remember_me}\n              onChange={handleChange}\n            />\n            <h3>\n              <strong>Remeber Me</strong>\n            </h3>\n          </span>\n          <button className=\"btn-pry\" type=\"submit\">\n            Sign In\n          </button>\n        </div>\n        <span className=\"misc\">\n          {/* eslint-disable-next-line react-hooks/exhaustive-deps */}\n          <p onClick={() => navigate(\"recover\")}>I forgot my password</p>\n        </span>\n      </form>\n    </>\n  );\n};\n\nexport default Signin;"]},"metadata":{},"sourceType":"module"}