{"ast":null,"code":"import _defineProperty from\"/home/moringa/Documents/phase3/phase3_poems_app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/moringa/Documents/phase3/phase3_poems_app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/moringa/Documents/phase3/phase3_poems_app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FormPage=function FormPage(_ref){var addBooks=_ref.addBooks;var history=useHistory();var _useState=useState({title:\"\",author:\"\",likes:0}),_useState2=_slicedToArray(_useState,2),newBook=_useState2[0],setNewBook=_useState2[1];var handleChange=function handleChange(e){var name=e.target.name;var value=e.target.value;setNewBook(_objectSpread(_objectSpread({},newBook),{},_defineProperty({},name,value)));};function handleSubmit(e){e.preventDefault();var addNewBook={title:newBook.title,author:newBook.author,likes:0};fetch(\"https://poem-books.herokuapp.com/books\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(addNewBook)}).then(function(response){return response.json();}).then(addBooks);setNewBook({title:\"\",author:\"\",likes:0});history.push(\"/books\");}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Add new poems: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Poem Title\",name:\"title\",value:newBook.title,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Author\",name:\"author\",value:newBook.author,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"button\",type:\"submit\"})]}),/*#__PURE__*/_jsx(\"img\",{alt:\"book\",src:\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRiIdSttbQ4eDcPQEFNLrMMPTGMG7S8oPuxpw&usqp=CAU\"})]});};export default FormPage;","map":{"version":3,"sources":["/home/moringa/Documents/phase3/phase3_poems_app/src/FormPage.js"],"names":["React","useState","useHistory","FormPage","addBooks","history","title","author","likes","newBook","setNewBook","handleChange","e","name","target","value","handleSubmit","preventDefault","addNewBook","fetch","method","headers","body","JSON","stringify","then","response","json","push"],"mappings":"gZAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,UAAT,KAA2B,kBAA3B,C,wFAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAkB,IAAfC,CAAAA,QAAe,MAAfA,QAAe,CACjC,GAAIC,CAAAA,OAAO,CAAGH,UAAU,EAAxB,CACA,cAA8BD,QAAQ,CAAC,CACrCK,KAAK,CAAE,EAD8B,CAErCC,MAAM,CAAE,EAF6B,CAGrCC,KAAK,CAAE,CAH8B,CAAD,CAAtC,wCAAOC,OAAP,eAAgBC,UAAhB,eAKA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1B,GAAMC,CAAAA,IAAI,CAAGD,CAAC,CAACE,MAAF,CAASD,IAAtB,CACA,GAAME,CAAAA,KAAK,CAAGH,CAAC,CAACE,MAAF,CAASC,KAAvB,CACAL,UAAU,gCAAMD,OAAN,wBAAgBI,IAAhB,CAAuBE,KAAvB,GAAV,CACD,CAJD,CAKA,QAASC,CAAAA,YAAT,CAAsBJ,CAAtB,CAAyB,CACvBA,CAAC,CAACK,cAAF,GACA,GAAMC,CAAAA,UAAU,CAAG,CACjBZ,KAAK,CAAEG,OAAO,CAACH,KADE,CAEjBC,MAAM,CAAEE,OAAO,CAACF,MAFC,CAGjBC,KAAK,CAAE,CAHU,CAAnB,CAMAW,KAAK,0CAA2C,CAC9CC,MAAM,CAAE,MADsC,CAE9CC,OAAO,CAAE,CACP,eAAgB,kBADT,CAFqC,CAK9CC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeN,UAAf,CALwC,CAA3C,CAAL,CAOGO,IAPH,CAOQ,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EAPR,EAQGF,IARH,CAQQrB,QARR,EASAM,UAAU,CAAC,CACTJ,KAAK,CAAE,EADE,CAETC,MAAM,CAAE,EAFC,CAGTC,KAAK,CAAE,CAHE,CAAD,CAAV,CAKAH,OAAO,CAACuB,IAAR,CAAa,QAAb,EACD,CACD,mBACE,oCACE,cAAM,SAAS,CAAC,MAAhB,CAAuB,QAAQ,CAAEZ,YAAjC,wBACE,uCADF,cAGE,cACE,IAAI,CAAC,MADP,CAEE,WAAW,CAAC,YAFd,CAGE,IAAI,CAAC,OAHP,CAIE,KAAK,CAAEP,OAAO,CAACH,KAJjB,CAKE,QAAQ,CAAEK,YALZ,EAHF,cAUE,aAVF,cAWE,cACE,IAAI,CAAC,MADP,CAEE,WAAW,CAAC,QAFd,CAGE,IAAI,CAAC,QAHP,CAIE,KAAK,CAAEF,OAAO,CAACF,MAJjB,CAKE,QAAQ,CAAEI,YALZ,EAXF,cAkBE,aAlBF,cAoBE,cAAO,SAAS,CAAC,QAAjB,CAA0B,IAAI,CAAC,QAA/B,EApBF,GADF,cAuBE,YACE,GAAG,CAAC,MADN,CAEE,GAAG,CAAC,qGAFN,EAvBF,GADF,CA8BD,CAlED,CAmEA,cAAeR,CAAAA,QAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nconst FormPage = ({ addBooks }) => {\n  let history = useHistory();\n  const [newBook, setNewBook] = useState({\n    title: \"\",\n    author: \"\",\n    likes: 0,\n  });\n  const handleChange = (e) => {\n    const name = e.target.name;\n    const value = e.target.value;\n    setNewBook({ ...newBook, [name]: value });\n  };\n  function handleSubmit(e) {\n    e.preventDefault();\n    const addNewBook = {\n      title: newBook.title,\n      author: newBook.author,\n      likes: 0,\n    };\n\n    fetch(`https://poem-books.herokuapp.com/books`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(addNewBook),\n    })\n      .then((response) => response.json())\n      .then(addBooks);\n    setNewBook({\n      title: \"\",\n      author: \"\",\n      likes: 0,\n    });\n    history.push(\"/books\");\n  }\n  return (\n    <div>\n      <form className=\"form\" onSubmit={handleSubmit}>\n        <h4>Add new poems: </h4>\n\n        <input\n          type=\"text\"\n          placeholder=\"Poem Title\"\n          name=\"title\"\n          value={newBook.title}\n          onChange={handleChange}\n        ></input>\n        <br />\n        <input\n          type=\"text\"\n          placeholder=\"Author\"\n          name=\"author\"\n          value={newBook.author}\n          onChange={handleChange}\n        ></input>\n        <br />\n\n        <input className=\"button\" type=\"submit\" />\n      </form>\n      <img\n        alt=\"book\"\n        src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRiIdSttbQ4eDcPQEFNLrMMPTGMG7S8oPuxpw&usqp=CAU\"\n      ></img>\n    </div>\n  );\n};\nexport default FormPage;\n"]},"metadata":{},"sourceType":"module"}