{"ast":null,"code":"import _defineProperty from\"/home/moringa/Documents/phase3/phase3_poems_app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/moringa/Documents/phase3/phase3_poems_app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/moringa/Documents/phase3/phase3_poems_app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddReview=function AddReview(_ref){var addReview=_ref.addReview,book=_ref.book;var _useState=useState({text:\"\",book_id:book.id}),_useState2=_slicedToArray(_useState,2),newReview=_useState2[0],setNewReview=_useState2[1];var handleChange=function handleChange(e){var name=e.target.name;var value=e.target.value;setNewReview(_objectSpread(_objectSpread({},newReview),{},_defineProperty({},name,value)));};function handleSubmit(e){e.preventDefault();var addNewReview={text:newReview.text,book_id:newReview.book_id};fetch(\"http://localhost:9292/books/\".concat(book.id,\"/reviews\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(addNewReview)}).then(function(response){return response.json();}).then(function(data){return addReview(data);});setNewReview({text:\"\",book_id:newReview.book_id});}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Add new review here: \"}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",placeholder:\"Review\",name:\"text\",value:newReview.text,onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"button\",type:\"submit\"})]})});};export default AddReview;","map":{"version":3,"sources":["/home/moringa/Documents/phase3/phase3_poems_app/src/AddReview.js"],"names":["React","useState","AddReview","addReview","book","text","book_id","id","newReview","setNewReview","handleChange","e","name","target","value","handleSubmit","preventDefault","addNewReview","fetch","method","headers","body","JSON","stringify","then","response","json","data"],"mappings":"gZAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,C,wFAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAAyB,IAAtBC,CAAAA,SAAsB,MAAtBA,SAAsB,CAAXC,IAAW,MAAXA,IAAW,CACzC,cAAkCH,QAAQ,CAAC,CACzCI,IAAI,CAAE,EADmC,CAEzCC,OAAO,CAAEF,IAAI,CAACG,EAF2B,CAAD,CAA1C,wCAAOC,SAAP,eAAkBC,YAAlB,eAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1B,GAAMC,CAAAA,IAAI,CAAGD,CAAC,CAACE,MAAF,CAASD,IAAtB,CACA,GAAME,CAAAA,KAAK,CAAGH,CAAC,CAACE,MAAF,CAASC,KAAvB,CAEAL,YAAY,gCAAMD,SAAN,wBAAkBI,IAAlB,CAAyBE,KAAzB,GAAZ,CACD,CALD,CAMA,QAASC,CAAAA,YAAT,CAAsBJ,CAAtB,CAAyB,CACvBA,CAAC,CAACK,cAAF,GAEA,GAAMC,CAAAA,YAAY,CAAG,CACnBZ,IAAI,CAAEG,SAAS,CAACH,IADG,CAEnBC,OAAO,CAAEE,SAAS,CAACF,OAFA,CAArB,CAKAY,KAAK,uCAAgCd,IAAI,CAACG,EAArC,aAAmD,CACtDY,MAAM,CAAE,MAD8C,CAEtDC,OAAO,CAAE,CACP,eAAgB,kBADT,CAF6C,CAKtDC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeN,YAAf,CALgD,CAAnD,CAAL,CAOGO,IAPH,CAOQ,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,IAAT,EAAd,EAPR,EAQGF,IARH,CAQQ,SAACG,IAAD,QAAUxB,CAAAA,SAAS,CAACwB,IAAD,CAAnB,EARR,EASAlB,YAAY,CAAC,CACXJ,IAAI,CAAE,EADK,CAEXC,OAAO,CAAEE,SAAS,CAACF,OAFR,CAAD,CAAZ,CAID,CACD,mBACE,kCACE,cAAM,SAAS,CAAC,MAAhB,CAAuB,QAAQ,CAAES,YAAjC,wBACE,6CADF,cAGE,iBACE,IAAI,CAAC,MADP,CAEE,WAAW,CAAC,QAFd,CAGE,IAAI,CAAC,MAHP,CAIE,KAAK,CAAEP,SAAS,CAACH,IAJnB,CAKE,QAAQ,CAAEK,YALZ,EAHF,cAWE,aAXF,cAYE,cAAO,SAAS,CAAC,QAAjB,CAA0B,IAAI,CAAC,QAA/B,EAZF,GADF,EADF,CAkBD,CAnDD,CAoDA,cAAeR,CAAAA,SAAf","sourcesContent":["import React, { useState } from \"react\";\n\nconst AddReview = ({ addReview, book }) => {\n  const [newReview, setNewReview] = useState({\n    text: \"\",\n    book_id: book.id,\n  });\n  const handleChange = (e) => {\n    const name = e.target.name;\n    const value = e.target.value;\n\n    setNewReview({ ...newReview, [name]: value });\n  };\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    const addNewReview = {\n      text: newReview.text,\n      book_id: newReview.book_id,\n    };\n\n    fetch(`http://localhost:9292/books/${book.id}/reviews`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(addNewReview),\n    })\n      .then((response) => response.json())\n      .then((data) => addReview(data));\n    setNewReview({\n      text: \"\",\n      book_id: newReview.book_id,\n    });\n  }\n  return (\n    <div>\n      <form className=\"form\" onSubmit={handleSubmit}>\n        <h5>Add new review here: </h5>\n\n        <textarea\n          type=\"text\"\n          placeholder=\"Review\"\n          name=\"text\"\n          value={newReview.text}\n          onChange={handleChange}\n        ></textarea>\n\n        <br />\n        <input className=\"button\" type=\"submit\" />\n      </form>\n    </div>\n  );\n};\nexport default AddReview;\n"]},"metadata":{},"sourceType":"module"}